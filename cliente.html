<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="/socket.io/socket.io.js"></script>

    <title>cliente</title>
</head>
<body>
    <h1>soket cliente</h1>
    <div id='root'></div>

    <button onclick="ok()">enviar</button>
    <script>
        const sk = io();
        const info = {
                id:localStorage.getItem('idLoja'),
                token:localStorage.getItem('token'),
            }
            //mandar informações para o server
            sk.emit('info_Cliente',info);

            //ouvir resposta
            sk.on('info_Cliente',inf=>{
                console.log("Canal info: "+inf);
            })

            const dados={
                nome:'Luciano',
                rua:'senador sarney',
                numero:'405',
                pedido:'espetinho completo'
            }
            //novo canal
            function ok(){
                console.log('ok');
            sk.emit(info.id,JSON.stringify(dados));
            }
    </script>
</body>
</html>